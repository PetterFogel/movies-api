(this["webpackJsonpmovies-api"]=this["webpackJsonpmovies-api"]||[]).push([[0],{30:function(e,t,c){},39:function(e,t,c){},60:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(31),s=c.n(i),r=(c(39),c(10)),o=c(32),l=c(8),j=c.n(l),d=c(34),u=c(12),b=c(4),v=c(16),h=c.n(v),O=c(0),p="46eda78843a870bbbc6d78ac7c1be16d",m=Object(n.createContext)({movieList:[],searchedMovie:[],specificMovie:{id:"",title:"",poster_path:"",vote_average:""},favoritesList:[],isLoading:!1,error:null,disabled:!1,fetchMovies:function(e){},searchMovie:function(e){},fetchSpecificMovie:function(e){},addToFavorites:function(e){},removeFromFavorites:function(e){}});function f(e){var t=Object(n.useState)([]),c=Object(b.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)([]),r=Object(b.a)(s,2),l=r[0],v=r[1],f=Object(n.useState)(JSON.parse(localStorage.getItem("Movies")||"[]")),x=Object(b.a)(f,2),g=x[0],N=x[1],k=Object(n.useState)({id:"",title:"",poster_path:"",vote_average:""}),y=Object(b.a)(k,2),S=y[0],w=y[1],M=Object(n.useState)(!1),_=Object(b.a)(M,2),C=_[0],L=_[1],F=Object(n.useState)(null),E=Object(b.a)(F,2),T=E[0],J=E[1],D=Object(n.useState)(!1),I=Object(b.a)(D,2),U=I[0],P=I[1];function R(){return(R=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J(null),L(!0),setTimeout(Object(u.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(p,"&language=en-US&page=1"));case 3:if(c=e.sent,!((n=c.data.results).length<=0)){e.next=7;break}throw Error("Something went wrong... :(");case 7:i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Error&&J(e.t0.message);case 13:L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),1e3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v([]),J(null),L(!0),setTimeout(Object(u.a)(j.a.mark((function e(){var c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(p,"&language=en-US&page=1&include_adult=false&query=").concat(t));case 3:if(c=e.sent,!((n=c.data.results).length<=0)){e.next=7;break}throw Error('Movie "'.concat(t,'" was not found... :('));case 7:v(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof Error&&J(e.t0.message);case 13:L(!1);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),1e3);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P(!1),w({id:"",title:"",poster_path:"",vote_average:""}),L(!0),setTimeout(Object(u.a)(j.a.mark((function e(){var c,n,a,i,s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(p,"&language=en-US"));case 3:c=e.sent,n=c.data,a={id:n.id,title:n.title,poster_path:n.poster_path,vote_average:n.vote_average,overview:n.overview,release_date:n.release_date,genres:n.genres},i=Object(o.a)(g);try{for(i.s();!(s=i.n()).done;)r=s.value,t===r.id.toString()&&P(!0)}catch(l){i.e(l)}finally{i.f()}w(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:L(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),1e3);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var B={movieList:a,searchedMovie:l,specificMovie:S,favoritesList:g,isLoading:C,error:T,disabled:U,fetchMovies:function(e){return R.apply(this,arguments)},searchMovie:function(e){return q.apply(this,arguments)},fetchSpecificMovie:function(e){return A.apply(this,arguments)},addToFavorites:function(e){var t=[].concat(Object(d.a)(g),[e]);N(t),localStorage.setItem("Movies",JSON.stringify(t)),P(!1)},removeFromFavorites:function(e){var t=g.filter((function(t){return t.id!==e.id}));N(t),localStorage.setItem("Movies",JSON.stringify(t))}};return Object(O.jsx)(m.Provider,{value:B,children:e.children})}var x=m,g=(c(60),function(){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],a=t[1];var i=function(){a(!1)};return Object(O.jsxs)("header",{children:[Object(O.jsx)("h2",{className:"logo",children:"Moviebox"}),Object(O.jsx)("nav",{children:Object(O.jsxs)("ul",{className:"nav-links",style:{right:c?"0%":"-100%"},children:[Object(O.jsx)(r.b,{to:"/",style:{textDecoration:"none"},onClick:i,children:Object(O.jsx)("li",{children:"Movies"})}),Object(O.jsx)(r.b,{to:"/favorites",style:{textDecoration:"none"},onClick:i,children:Object(O.jsx)("li",{children:"Favorites"})}),Object(O.jsx)(r.b,{to:"/search-movie",style:{textDecoration:"none"},onClick:i,children:Object(O.jsx)("li",{children:"Search"})})]})}),Object(O.jsxs)("div",{className:"burger-menu",onClick:function(){a(!c)},children:[Object(O.jsx)("div",{}),Object(O.jsx)("div",{}),Object(O.jsx)("div",{})]})]})}),N=c(2),k=(c(66),function(e){var t=e.children;return Object(O.jsx)("div",{className:"card-container",children:t})}),y=(c(67),function(e){var t=e.movie,c=Object(N.f)(),n="https://image.tmdb.org/t/p/w1280/".concat(t.poster_path),a=function(){c.push("movie-details/".concat(t.id))};return Object(O.jsxs)(k,{children:[Object(O.jsx)("img",{src:n,alt:t.title,className:"image-holder",onClick:a}),Object(O.jsxs)("div",{className:"movie-info",onClick:a,children:[Object(O.jsx)("p",{className:"title",children:t.title}),Object(O.jsx)("p",{className:"rating",children:t.vote_average})]})]})}),S=function(){var e=Object(n.useContext)(x).favoritesList;return Object(O.jsxs)("section",{children:[e.length<=0&&Object(O.jsx)("p",{className:"empty-msg",children:"Please add a movie to your favorite list."}),Object(O.jsx)("div",{className:"movie-list-container",children:e.map((function(e){return Object(O.jsx)(y,{movie:e},e.id)}))})]})},w=(c(68),function(){var e=Object(N.g)(),t=Object(n.useContext)(x),c=t.specificMovie,a=t.isLoading,i=t.favoritesList,s=t.disabled,r=t.fetchSpecificMovie,o=t.addToFavorites,l=t.removeFromFavorites,j="https://image.tmdb.org/t/p/w1280/".concat(c.poster_path),d=c.genres;return Object(n.useEffect)((function(){r(e.id)}),[i]),Object(O.jsxs)("section",{children:[a&&Object(O.jsx)("p",{className:"loading",children:"Loading..."}),!a&&Object(O.jsxs)("div",{className:"details-container",children:[Object(O.jsx)("div",{className:"image-detail-holder",children:Object(O.jsx)("img",{src:j,alt:c.title})}),Object(O.jsxs)("div",{className:"movie-detail-holder",children:[Object(O.jsxs)("div",{className:"title-detail-holder",children:[Object(O.jsx)("h2",{className:"details-title",children:c.title}),Object(O.jsxs)("div",{className:"rating-holder",children:[Object(O.jsx)("i",{className:"fas fa-star rating-icon"}),Object(O.jsx)("p",{className:"rating-title",children:c.vote_average})]})]}),Object(O.jsxs)("div",{className:"genre-holder",children:["Genre:",null===d||void 0===d?void 0:d.map((function(e){return Object(O.jsx)("p",{className:"genre-title",children:e.name},e.id)}))]}),Object(O.jsx)("div",{className:"overview-holder",children:Object(O.jsx)("p",{children:c.overview})}),Object(O.jsxs)("div",{className:"add-btn-holder",children:[s&&Object(O.jsx)("button",{className:"remove-btn",onClick:function(){l(c)},children:"Remove from favorit"}),!s&&Object(O.jsxs)("button",{className:"add-btn",onClick:function(){o(c)},children:[Object(O.jsx)("p",{className:"add-btn-icon",children:"+"}),"Add to Favorites"]})]})]})]})]})}),M=function(e,t){return e===t?"#222":"#111"},_=function(e){var t=e.movies;return Object(O.jsx)("div",{className:"movie-list-container",children:t.map((function(e){return Object(O.jsx)(y,{movie:e},e.id)}))})},C=(c(69),c(30),function(){var e=Object(n.useContext)(x),t=e.movieList,c=e.isLoading,a=e.error,i=e.fetchMovies,s=Object(n.useState)("popular"),r=Object(b.a)(s,2),o=r[0],l=r[1];Object(n.useEffect)((function(){i(o)}),[o]);var j=function(e){l(e)};return a?Object(O.jsx)("p",{className:"error-msg",children:"Something went wrong... :("}):Object(O.jsxs)("section",{children:[Object(O.jsxs)("div",{className:"category-btn-holder",children:[Object(O.jsx)("button",{className:"category-btn",style:{background:M(o,"popular")},onClick:function(){return j("popular")},children:"Popular"}),Object(O.jsx)("button",{className:"category-btn",style:{background:M(o,"top_rated")},onClick:function(){return j("top_rated")},children:"Top Rated"}),Object(O.jsx)("button",{className:"category-btn",style:{background:M(o,"upcoming")},onClick:function(){return j("upcoming")},children:"Upcoming"})]}),c?Object(O.jsx)("p",{className:"loading",children:"Loading..."}):Object(O.jsx)(_,{movies:t})]})}),L=(c(70),function(){var e=Object(n.useContext)(x),t=e.searchedMovie,c=e.isLoading,a=e.error,i=e.searchMovie,s=Object(n.useState)(""),r=Object(b.a)(s,2),o=r[0],l=r[1];return Object(O.jsxs)("section",{children:[Object(O.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i(o),l("")},children:[Object(O.jsx)("input",{type:"text",placeholder:"Search Movie...",value:o,onChange:function(e){l(e.target.value)}}),Object(O.jsx)("button",{className:"search-btn-icon",children:Object(O.jsx)("i",{className:"fas fa-search"})})]}),c&&Object(O.jsx)("p",{className:"loading",children:"Loading..."}),a&&Object(O.jsx)("p",{className:"error-msg",children:a}),Object(O.jsx)("div",{className:"movie-list-container",children:t.map((function(e){return Object(O.jsx)(y,{movie:e},e.id)}))})]})}),F=(c(71),function(){return Object(O.jsx)("main",{children:Object(O.jsxs)(N.c,{children:[Object(O.jsx)(N.a,{path:"/",exact:!0,children:Object(O.jsx)(C,{})}),Object(O.jsx)(N.a,{path:"/favorites",children:Object(O.jsx)(S,{})}),Object(O.jsx)(N.a,{path:"/search-movie",children:Object(O.jsx)(L,{})}),Object(O.jsx)(N.a,{path:"/movie-details/:id",children:Object(O.jsx)(w,{})})]})})}),E=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g,{}),Object(O.jsx)(F,{})]})};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(r.a,{children:Object(O.jsx)(f,{children:Object(O.jsx)(E,{})})})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.4c5fa7ab.chunk.js.map